(use (\std mem (ptr Unique Raw))
     \std\iter\Iterator)

; Aliases
; (def-macro → () (t (fn t ...)))
; (def-macro -> () (t (fn t ...)))
(def-macro λ () ((args body) (lambda args body)))

(def-macro if ()
    ((predicate consequence otherwise)
     (cond (predicate consequence) (else otherwise)))
    ((predicate consequence)
     (cond (predicate consequence))))

(def-macro define ()
    ((name body) (def-const name body)))


(define max (λ (a b)
    (if (> a b) a b)))

(define main (λ () (block
    (if true 3)
    (println! "{:?}" (max 14.2_E3 (- 13E-2 42_4))))))
